(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),l=a.n(r),o=a(1),s=(a(14),a(15),a(8)),u=(a(16),a(5)),i="https://mate-api.herokuapp.com",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return fetch("".concat(i).concat(t).concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))},f=(a(17),function(){return c.a.createElement("div",{className:"Loader"},c.a.createElement("div",{className:"Loader__content"}))}),d=function(e){var t=e.changeUser,a=e.choosenUser,r=e.filterListByUser,l=Object(n.useState)([]),u=Object(o.a)(l,2),i=u[0],d=u[1],p=Object(n.useState)(!1),E=Object(o.a)(p,2),b=E[0],h=E[1];return Object(n.useEffect)((function(){m("","/posts/").then((function(e){return d(Object(s.a)(e))}))}),[]),c.a.createElement("div",{className:"PostsList"},c.a.createElement("h2",null,"Posts:"),c.a.createElement("ul",{className:"PostsList__list"},i.length?r(a,i).map((function(e){return c.a.createElement("li",{key:e.id,className:"PostsList__item"},c.a.createElement("div",null,c.a.createElement("b",null,"[User #",e.userId,"]:\xa0"),e.body),c.a.createElement("button",{onClick:function(){return b===e.id?(t(0),h(0)):(t(e.id),h(e.id))},type:"button",className:"PostsList__button button"},e.id===b?"Clear":"Open"))})):c.a.createElement(f,null)))},p=a(4),E=a.n(p),b=(E.a.number.isRequired,E.a.func.isRequired,E.a.func.isRequired,a(20),function(e){var t=e.selectedPostId,a=e.setDeleteOrAddWait,r=e.setWaitForComments,l=Object(n.useState)(""),s=Object(o.a)(l,2),m=s[0],f=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),E=p[0],b=p[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),_=v[0],O=v[1];return c.a.createElement("form",{className:"NewCommentForm"},c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{value:m,onChange:function(e){var t=e.target;return f(t.value)},type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input"})),c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{value:E,onChange:function(e){var t=e.target;b(t.value)},type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input"})),c.a.createElement("div",{className:"form-field"},c.a.createElement("textarea",{name:"body",value:_,onChange:function(e){var t=e.target;return O(t.value)},placeholder:"Type comment here",className:"NewCommentForm__input"})),c.a.createElement("button",{type:"submit",className:"NewCommentForm__submit-button button",onClick:function(e){var n,c;e.preventDefault(),a((function(e){return e+1})),r(!0),f(""),b(""),O(""),n=t,c={name:m,email:E,body:_},fetch("".concat(i,"/comments/"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(Object(u.a)(Object(u.a)({},c),{},{postId:n}))})}},"Add a comment"))}),h=(a(21),function(e){var t=e.selectedPostId,a=Object(n.useState)({}),r=Object(o.a)(a,2),l=r[0],s=r[1],u=Object(n.useState)(0),d=Object(o.a)(u,2),p=d[0],E=d[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),_=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(o.a)(j,2),y=N[0],C=N[1],g=Object(n.useState)([]),P=Object(o.a)(g,2),S=P[0],D=P[1],L=Object(n.useState)(!0),F=Object(o.a)(L,2),k=F[0],w=F[1];return Object(n.useEffect)((function(){0!==t&&(C(!0),O(!0),m(t,"/posts/").then((function(e){return s(e)})))}),[t]),Object(n.useEffect)((function(){m("","/comments/").then((function(e){D(e.filter((function(e){return e.postId===t})))}))}),[S]),Object(n.useEffect)((function(){m("","/comments/").then((function(e){D(e.filter((function(e){return e.postId===t}))),O(!1),C(!1)}))}),[t,p]),c.a.createElement("div",{className:"PostDetails"},0!==t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Post details:"),y?c.a.createElement(f,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"PostDetails__post"},c.a.createElement("p",null,l.body)),c.a.createElement("section",{className:"PostDetails__comments"},!_&&c.a.createElement("button",{onClick:function(){return w((function(e){return!e}))},type:"button",className:"button"},k&&S.length?"Hide":"Show"," ".concat(S.length," "),"comments"),c.a.createElement("ul",{className:"PostDetails__list"},_?c.a.createElement(f,null):S.map((function(e){return k&&c.a.createElement("li",{key:e.id,className:"PostDetails__list-item"},c.a.createElement("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){var t;t=e.id,fetch("".concat(i,"/comments/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}),E((function(e){return e+1})),O(!0)}},"X"),c.a.createElement("p",null,e.body))})))),c.a.createElement("section",null,c.a.createElement("div",{className:"PostDetails__form-wrapper"},c.a.createElement(b,{setDeleteOrAddWait:E,setWaitForComments:O,selectedPostId:t}))))))}),v=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("0"),s=Object(o.a)(l,2),u=s[0],i=s[1];Object(n.useEffect)((function(){}),[u]);return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App__header"},c.a.createElement("label",null,"Select a user: \xa0",c.a.createElement("select",{onChange:function(e){var t=e.target;return i(t.value)},className:"App__user-selector"},c.a.createElement("option",{value:"0"},"All users"),c.a.createElement("option",{value:"1"},"Leanne Graham"),c.a.createElement("option",{value:"2"},"Ervin Howell"),c.a.createElement("option",{value:"3"},"Clementine Bauch"),c.a.createElement("option",{value:"4"},"Patricia Lebsack"),c.a.createElement("option",{value:"5"},"Chelsey Dietrich"),c.a.createElement("option",{value:"6"},"Mrs. Dennis Schulist"),c.a.createElement("option",{value:"7"},"Kurtis Weissnat"),c.a.createElement("option",{value:"8"},"Nicholas Runolfsdottir V"),c.a.createElement("option",{value:"9"},"Glenna Reichert"),c.a.createElement("option",{value:"10"},"Leanne Graham")))),c.a.createElement("main",{className:"App__main"},c.a.createElement("div",{className:"App__sidebar"},c.a.createElement(d,{filterListByUser:function(e,t){return 0!==Number(e)?t.filter((function(t){return t.userId===Number(e)})):t},choosenUser:u,changeUser:function(e){return r(e)}})),c.a.createElement("div",{className:"App__content"},c.a.createElement(h,{selectedPostId:a}))))};l.a.render(c.a.createElement(v,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.dc67f83f.chunk.js.map